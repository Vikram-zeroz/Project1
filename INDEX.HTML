<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Civic Issue Reporting</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      margin: 0;
      padding: 0;
    }
    header {
      display: flex;
      align-items: center;
      background: #004d99;
      padding: 10px 20px;
      color: white;
    }
    header img {
      height: 40px;
      margin-right: 10px;
    }
    header h1 {
      font-size: 20px;
      margin: 0;
    }
    nav {
      background: #003366;
      padding: 10px 20px;
    }
    nav a {
      color: white;
      margin-right: 20px;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .container {
      max-width: 800px;
      margin: 30px auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.1);
    }
    form label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    form input[type="file"],
    form textarea {
      width: 100%;
      margin-top: 5px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    form button {
      margin-top: 20px;
      background: #004d99;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
    }
    form button:hover {
      background: #003366;
    }
    .api-section {
      margin-top: 30px;
      padding: 15px;
      background: #eef5ff;
      border: 1px dashed #004d99;
      border-radius: 6px;
    }
    section {
      max-width: 800px;
      margin: 30px auto;
      background: #ffffff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.05);
    }
    section h2 {
      margin-top: 0;
      color: #004d99;
    }
  </style>
</head>
<body>
  <header>
    <!-- Replace logo.png with your actual logo -->
    <img src="C:\Users\vikra\OneDrive\Desktop\ZERO\Logo2.webp" alt="Logo">
    <h1>Civic Issue Reporting</h1>
  </header>

  <nav>
    <a href="#report">Report Issue</a>
    <a href="#about">About</a>
    <a href="#help">Help</a>
  </nav>

  <div class="container" id="report">
    <form id="issueForm">
      <label for="image">Upload Issue Image:</label>
      <input type="file" id="image" name="image" accept="image/*" required>

      <label for="description">Issue Description:</label>
      <textarea id="description" name="description" rows="5" placeholder="Describe the issue..." required></textarea>

      <button type="submit">Submit Issue</button>
    </form>

    <div class="api-section">
      <h3>API Workflow Integration</h3>
      <p>This section will connect to your API (e.g., n8n workflow). You can handle form submission using JavaScript and send data here.</p>
      <pre id="apiResponse">Waiting for response...</pre>
    </div>
  </div>

  <section id="about">
    <h2>About</h2>
    <p>
      This platform is designed to help citizens report civic issues such as road damage, 
      garbage collection, water supply problems, and streetlight issues.  
      Your reports are sent directly to the municipal department for quick action.
    </p>
  </section>

  <section id="help">
    <h2>Help</h2>
    <ul>
      <li><b>Step 1:</b> Upload a clear image of the issue.</li>
      <li><b>Step 2:</b> Provide a short description (e.g., location, type of issue).</li>
      <li><b>Step 3:</b> Click on "Submit Issue".</li>
      <li>The municipal department will receive your report through the connected workflow.</li>
    </ul>
  </section>

  <script>
    document.getElementById("issueForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      
      const formData = new FormData();
      formData.append("image", document.getElementById("image").files[0]);
      formData.append("description", document.getElementById("description").value);

      try {
        // Replace with your actual n8n webhook/API endpoint
        const response = await fetch("https://your-n8n-webhook-url", {
          method: "POST",
          body: formData
        });
        
        const result = await response.json();
        document.getElementById("apiResponse").innerText = JSON.stringify(result, null, 2);
      } catch (error) {
        document.getElementById("apiResponse").innerText = "Error: " + error.message;
      }
    });
  </script>
</body>
</html>
